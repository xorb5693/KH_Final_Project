<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="admin">
	<select id="memberList" parameterType="memberSearch"
		resultType="member">
		select
		member_no as memberNo,
		member_profile as memberProfile,
		member_id as memberId,
		member_name as memberName,
		member_nick as memberNick,
		expire_date as expireDate,
		member_level as memberLevel,
		card
		from member
		where member_level='1'
		<if test="checkbox1==1">
			and expire_date is null
		</if>
		<if test="checkbox2==1">
			and card is null
		</if>
		and (member_id like '%'||#{searchWord}||'%' or member_name like '%'||#{searchWord}||'%' or member_nick like '%'||#{searchWord}||'%')
	</select>
</mapper>
